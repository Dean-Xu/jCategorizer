/*!
 * jQuery jCategorizer Plugin v1.0.1
 * https://github.com/dean-xu/jCategorizer
 *
 * Copyright 2015 Dean Xu
 * Released under the MIT license
 */

!function(i){i.fn.jCategorizer=function(c){var e=i.extend({overlayType:"shadow",width:"55px",height:"55px",border:"1px solid #969696",background:"#5f5f5f",fontColor:"#000000",iconPerRow:"4",iconMargin:"1px"},c),t=function(i,c){i.append("<span class='jC-"+c+"Desc'>"+i.attr("jc-desc")+"</span>")},o=function(){i(this).addClass("jC-categPopup-active"),i(this).css("background",e.background),i(".jC-categPopup-active > div").css("top",window.pageYOffset+.3*window.innerHeight+"px"),"blur"===e.overlayType?(i(".jC-categPopup-container").css("display","block"),i(this).children("div").appendTo(".jC-categPopup-container"),i('body > *:not(".jC-categPopup-container")').addClass("jC-blur"),i(".jC-overlay-blur").css("display","block")):i(".jC-overlay-shadow").css("display","block")},s=function(){i(".jC-categPopup-active").css("background",""),"blur"===e.overlayType?(i(".jC-categPopup-container").css("display","none"),i(".jC-categPopup-container").children("div").appendTo(".jC-categPopup-active"),i('body > *:not(".jC-categPopup-container")').removeClass("jC-blur"),i(".jC-overlay-blur").css("display","none")):i(".jC-overlay-shadow").css("display","none"),i(".jC-categPopup-active > div").css("top",i(".jC-categPopup-active > div").attr("jc-top")),i(".jC-categPopup-active").removeClass("jC-categPopup-active")},n=function(c){"blur"===c?(0===i(".jC-categPopup-container").length&&(i("body").append("<div class='jC-categPopup-container' style='display:none;'></div>"),i(".jC-categPopup-container").css("width","100%").css("height","100%")),0===i(".jC-overlay-blur").length&&(i("body").append("<div class='jC-overlay jC-overlay-blur' style='display:none;'></div>"),i(".jC-overlay-blur").css("width","100%").css("height","100%"),i(".jC-overlay-blur").bind("click",s))):0===i(".jC-overlay-shadow").length&&(i("body").append("<div class='jC-overlay jC-overlay-shadow' style='display:none;'></div>"),i(".jC-overlay-shadow").css("width","100%").css("height","100%"),i(".jC-overlay-shadow").bind("click",s))};i(this).addClass("jC-container"),this.each(function(){i(this).children("ul").children("li").each(function(){t(i(this),"categ"),i(this).children("ul").children("li").each(function(){t(i(this),"icon")})}),i(this).children("ul").children("li").bind("click",o),i(this).children("ul").children("li").each(function(){i(this).html("<div class='jc-categBox'>"+i(this).html()+"</div>")}),e.fontColor&&i(this).css("color",e.fontColor),e.width&&(i(this).children("ul").children("li").css("width",e.width),i(this).find(".jc-categBox").css("width",e.width)),e.height&&(i(this).children("ul").children("li").css("height",e.height),i(this).find(".jc-categBox").css("height",e.height)),e.border&&i(this).children("ul").children("li").children(".jc-categBox").css("border",e.border),e.background&&i(this).children("ul").children("li").children(".jc-categBox").css("background",e.background),e.iconPerRow&&(i(this).find(".jc-categBox img").css("width",(parseInt(e.width.replace("px",""))/parseInt(e.iconPerRow)-2*parseInt(e.iconMargin)-.5).toString()+"px"),i(this).find(".jc-categBox img").css("height",(parseInt(e.width.replace("px",""))/parseInt(e.iconPerRow)-2*parseInt(e.iconMargin)-.5).toString()+"px")),e.iconMargin&&i(this).find(".jc-categBox > ul > li").css("margin",e.iconMargin),e.overlayType&&n(e.overlayType),i(this).children("ul").children("li").children(".jc-categBox").each(function(){i(this).attr("jc-left",i(this).position().left+"px"),i(this).attr("jc-top",i(this).position().top+"px"),i(this).css("left",i(this).attr("jc-left")),i(this).css("top",i(this).attr("jc-top"))})})}}(jQuery);